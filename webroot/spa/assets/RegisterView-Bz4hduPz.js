import{_ as R,u as S,k as q,j as s,c as m,b as r,w as f,a as o,t,p as B,v as C,F as D,h as M,g as F,l as I,A as T,d as _,i as j,r as x,m as E,n as J,o as c}from"./index-CHWeGoxB.js";import{A as P}from"./AppCard-DwTApDbO.js";import{A as n}from"./AppInput-BQLXc67T.js";const z={class:"container auth-container"},G={class:"text-center mb-8"},H={class:"mb-2"},K={class:"text-secondary"},O={class:"grid grid-cols-2 gap-4 mb-4"},Q={class:"mb-4"},W={class:"block text-sm font-medium text-secondary mb-1.5"},X=["value"],Y={key:0,class:"error-msg mb-4"},Z={class:"text-center mt-6 text-sm text-secondary"},ee={__name:"RegisterView",setup(ae){const V=E(),w=J(),y=S(),{locale:$,availableLocales:k,setLocale:A,t:N}=q(),p=s(""),v=s(""),h=s(""),d=s($.value),i=s(""),b=s(""),g=s(!1),u=s(""),U=async()=>{if(i.value!==b.value){u.value=N("auth.password_mismatch");return}g.value=!0,u.value="";const e=await y.register(h.value,i.value,p.value,v.value,d.value);if(e.success){await A(d.value);const l=w.query.upgrade_token;l?V.push(`/checkout/${l}`):V.push("/dashboard")}else u.value=e.error,g.value=!1};return(e,l)=>{const L=x("router-link");return c(),m("div",z,[r(P,{class:"auth-card"},{default:f(()=>[o("div",G,[o("h1",H,t(e.$t("auth.register_title")),1),o("p",K,t(e.$t("auth.register_subtitle")),1)]),o("form",{onSubmit:j(U,["prevent"])},[o("div",O,[r(n,{modelValue:p.value,"onUpdate:modelValue":l[0]||(l[0]=a=>p.value=a),label:e.$t("common.first_name"),placeholder:"John"},null,8,["modelValue","label"]),r(n,{modelValue:v.value,"onUpdate:modelValue":l[1]||(l[1]=a=>v.value=a),label:e.$t("common.last_name"),placeholder:"Doe"},null,8,["modelValue","label"])]),r(n,{modelValue:h.value,"onUpdate:modelValue":l[2]||(l[2]=a=>h.value=a),label:e.$t("common.email"),type:"email",placeholder:e.$t("auth.email_placeholder"),required:""},null,8,["modelValue","label","placeholder"]),o("div",Q,[o("label",W,t(e.$t("common.language")),1),B(o("select",{"onUpdate:modelValue":l[3]||(l[3]=a=>d.value=a),class:"w-full bg-elevated border border-subtle rounded-lg p-2.5 text-sm text-primary focus:border-primary outline-none transition-all"},[(c(!0),m(D,null,M(F(k),a=>(c(),m("option",{key:a.code,value:a.code},t(a.flag)+" "+t(a.name),9,X))),128))],512),[[C,d.value]])]),r(n,{modelValue:i.value,"onUpdate:modelValue":l[4]||(l[4]=a=>i.value=a),label:e.$t("common.password"),type:"password",placeholder:e.$t("auth.password_placeholder"),required:""},null,8,["modelValue","label","placeholder"]),r(n,{modelValue:b.value,"onUpdate:modelValue":l[5]||(l[5]=a=>b.value=a),label:e.$t("auth.confirm_password"),type:"password",placeholder:e.$t("auth.password_placeholder"),required:""},null,8,["modelValue","label","placeholder"]),u.value?(c(),m("div",Y,t(u.value),1)):I("",!0),r(T,{type:"submit",class:"w-full mt-4",loading:g.value},{default:f(()=>[_(t(e.$t("common.register")),1)]),_:1},8,["loading"])],32),o("div",Z,[_(t(e.$t("auth.have_account"))+" ",1),r(L,{to:"/login",class:"text-primary hover-underline"},{default:f(()=>[_(t(e.$t("common.login")),1)]),_:1})])]),_:1})])}}},se=R(ee,[["__scopeId","data-v-d512be50"]]);export{se as default};
